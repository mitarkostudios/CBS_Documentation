<h1> Clan Module </h1>

This module allows you to create communities of players such as clans / guilds.

The following settings are available in the editor.

![](https://archbee-image-uploads.s3.amazonaws.com/eJQ_to_S35RjGyX2qhcYY/4_7Dkbvh88-lotcD6Suew_image.png)

**Max members - **Max members in group. Max value = 100.



### **API Methods**

****

**CBSClan.OnCreateClan**

Notifies when a user has created a clan.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         ClanModule.OnCreateClan += OnCreateClan;

>     }

>

>     private void OnCreateClan(CreateClanResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully create clan with id"+ result.ClanID);

>         }

>     }

> }



**CBSClan.OnJoinClan**

Notifies when a user has joined a clan.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         ClanModule.OnJoinClan += OnUserJoined;

>     }

>

>     private void OnUserJoined(AcceptClanInviteResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.LogFormat("User {0} has successfully joined your clan");

>         }

>     }

> }



**CBSClan.OnLeaveClan**

Notifies when a user has left the clan.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         ClanModule.OnLeaveClan += OnLeaveClan;

>     }

>

>     private void OnLeaveClan(LeaveClanResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully left the clan.");

>         }

>     }

> }



**CBSClan.OnRemoveClan**

Notifies when a user has deleted a clan.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         ClanModule.OnRemoveClan += OnRemoveClan;

>     }

>

>     private void OnRemoveClan(RemoveClanResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully removed clan with id"+ result.ClanID);

>         }

>     }

> }



**CBSClan.OnUserAccepted**

Notifies when a user has been accepted into a clan.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         ClanModule.OnUserAccepted += OnUserAccepted;

>     }

>

>     private void OnUserAccepted(AcceptDeclineUserRequestResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully accept clan join request of user " + result.UserEntityID);

>         }

>     }

> }



**CBSClan.OnUserDeclined**

Notifies when a clan invitation has been declined for a user.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         ClanModule.OnUserDeclined += OnUserDeclined;

>     }

>

>     private void OnUserDeclined(AcceptDeclineUserRequestResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully decline clan join request of user " + result.UserEntityID);

>         }

>     }

> }



**CBSClan.ExistInClan**

Checks if the current user is a member of the clan. It also returns short information about the clan if it is a member.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         ClanModule.ExistInClan(OnCheckClanExist);

>     }

>

>     private void OnCheckClanExist(ExistInClanResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("Are you exist in clan ? " + result.ExistInClan);

>         }

>     }

> }



**CBSClan.ExistInClan**

Checks if the user is a member of the clan. It also returns short information about the clan if it is a member. Entity ID is used for the request, not to be confused with PlayerID.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string userEntityID = "some user entity id";

>

>         ClanModule.ExistInClan(userEntityID, OnCheckClanExist);

>     }

>

>     private void OnCheckClanExist(ExistInClanResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("Are user exist in clan ? " + result.ExistInClan);

>         }

>     }

> }

****

**CBSClan.CreateClan**

Creation of a new clan.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanName = "Clan name";

>         string clanDescription = "Clan description";

>         string clanAvatarURL = "Clan avatar url";

>

>         var createRequest = new CreateClanRequest {

>             ClanName = clanName,

>             ClanDescription = clanDescription,

>             ClanImageURL = clanAvatarURL

>         };

>

>         ClanModule.CreateClan(createRequest, OnCreateClan);

>     }

>

>     private void OnCreateClan(CreateClanResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully create clan with id " + result.ClanID);

>         }

>     }

> }



**CBSClan.GetClanInfo**

Get full information about the clan.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanId = "Some clan ID";

>

>         ClanModule.GetClanInfo(clanId, OnGetClanInfo);

>     }

>

>     private void OnGetClanInfo(GetClanInfoResult result)

>     {

>         if (result.IsSuccess)

>         {

>             var clanInfo = result.Info;

>             Debug.LogFormat("Clan id {0}. Clan Name {1}. Clan members count {2}", clanInfo.GroupId, clanInfo.GroupName, clanInfo.MembersCount);

>         }

>     }

> }



**CBSClan.GetClanList**

Get a list of all existing clans in the game.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         ClanModule.GetClanList(OnGetClans);

>     }

>

>     private void OnGetClans(GetClanListResult result)

>     {

>         if (result.IsSuccess)

>         {

>             var clanList = result.Clans;

>             foreach (var clan in clanList)

>             {

>                 Debug.LogFormat("Clan name {0}. Clan ID {1}", clan.Value, clan.Key);

>             }

>         }

>     }

> }



**CBSClan.SearchClanByName**

Find a clan by name. Full name is required.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanName = "some clan name";

>

>         ClanModule.SearchClanByName(clanName, OnGetClans);

>     }

>

>     private void OnGetClans(GetClanListResult result)

>     {

>         if (result.IsSuccess)

>         {

>             var clanList = result.Clans;

>             foreach (var clan in clanList)

>             {

>                 Debug.LogFormat("Clan name {0}. Clan ID {1}", clan.Value, clan.Key);

>             }

>         }

>     }

> }



**CBSClan.JoinClanRequest**

Send an application to join the clan.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanID = "some clan id";

>

>         ClanModule.JoinClanRequest(clanID, OnSendJoinRequest);

>     }

>

>     private void OnSendJoinRequest(JoinClanResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully sent clan join request");

>         }

>     }

> }



**CBSClan.LeaveClan**

Leave the current clan if you are a member.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanID = "some clan id";

>

>         ClanModule.LeaveClan(clanID, OnLeaveClan);

>     }

>

>     private void OnLeaveClan(LeaveClanResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully left the clan.");

>         }

>     }

> }



**CBSClan.RemoveClan**

Delete a clan. This can only be done by the administrator / creator of the clan.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanID = "some clan id";

>         string clanName = "clan full name";

>

>         ClanModule.RemoveClan(clanID, clanName, OnRemoveClan);

>     }

>

>     private void OnRemoveClan(RemoveClanResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully remove the clan.");

>         }

>     }

> }



**CBSClan.InviteUser**

Send an invitation to a user to join a clan.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanID = "your clan id";

>         string userEntityID = "some user entity id";

>

>         ClanModule.InviteUser(clanID, userEntityID, OnSendInvite);

>     }

>

>     private void OnSendInvite(InviteToClanResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully sent invite to join clan");

>         }

>     }

> }



**CBSClan.GetUserInvitations**

Get a list of all invitations of the current user to join the clan.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         ClanModule.GetUserInvitations(OnGetInvations);

>     }

>

>     private void OnGetInvations(GetUserInvatitaionsResult result)

>     {

>         if (result.IsSuccess)

>         {

>             var invations = result.Invites;

>             foreach (var clanInvite in invations)

>             {

>                 Debug.Log("Clan id = "+clanInvite.ClanID);

>             }

>         }

>     }

> }



**CBSClan.DeclineClanInvite**

Decline clan invitation to join.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanID = "some clan id";

>

>         ClanModule.DeclineClanInvite(clanID, OnDecline);

>     }

>

>     private void OnDecline(DeclineInviteResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You declined the invitation to the clan");

>         }

>     }

> }



**CBSClan.AcceptClanInvitatiion**

Accept the clan's invitation to join.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanID = "some clan id";

>

>         ClanModule.AcceptClanInvitatiion(clanID, OnAccept);

>     }

>

>     private void OnAccept(AcceptClanInviteResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You accepted the invitation to the clan");

>         }

>     }

> }



**CBSClan.UpdateClanDescription**

Update the description of the clan the user is currently a member of

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanID = "some clan id";

>         string description = "new description";

>

>         ClanModule.UpdateClanDescription(clanID, description, OnUpdate);

>     }

>

>     private void OnUpdate(UpdateClanDataResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully updated the description");

>         }

>     }

> }



**CBSClan.UpdateClanImageURL**

Update the link to the avatar of the clan in which the user is currently a member.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanID = "some clan id";

>         string url = "some image url";

>

>         ClanModule.UpdateClanImageURL(clanID, url, OnUpdate);

>     }

>

>     private void OnUpdate(UpdateClanDataResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully updated the avatar");

>         }

>     }

> }



**CBSClan.SetOrUpdateClanData**

Set clan clan custom data by specific id.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanID = "some clan id";

>         string dataKey = "some data key";

>         string dataVal = "some data val";

>

>         ClanModule.SetOrUpdateClanData(clanID, dataKey, dataVal, OnUpdate);

>     }

>

>     private void OnUpdate(UpdateClanDataResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully updated custom data");

>         }

>     }

> }

****

**CBSClan.GetClanCustomData**

Get clan clan custom data by specific id.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanID = "some clan id";

>         string dataKey = "some data key";

>

>         ClanModule.GetClanCustomData(clanID, dataKey, OnGetData);

>     }

>

>     private void OnGetData(GetClanDataResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("Data value = " + result.Value);

>         }

>     }

> }



**CBSClan.GetClanUsersJoinRequests**

Get a list of all users who want to join the clan.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanID = "some clan id";

>

>         ClanModule.GetClanUsersJoinRequests(clanID, OnGetUsers);

>     }

>

>     private void OnGetUsers(GetClanRequestedUsersResult result)

>     {

>         if (result.IsSuccess)

>         {

>             var usersList = result.Profiles;

>             foreach (var user in usersList)

>             {

>                 Debug.Log(user.ProfileId);

>             }

>         }

>     }

> }

****

**CBSClan.AcceptUserJoinRequest**

Accept the user's request to join the clan.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanID = "some clan id";

>         string userEntityID = "some user entity id";

>

>         ClanModule.AcceptUserJoinRequest(clanID, userEntityID, OnAccept);

>     }

>

>     private void OnAccept(AcceptDeclineUserRequestResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully accepted an application to be added to the clan");

>         }

>     }

> }



**CBSClan.DeclineUserJoinRequest**

Decline the user's request to join the clan.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanID = "some clan id";

>         string userEntityID = "some user entity id";

>

>         ClanModule.DeclineUserJoinRequest(clanID, userEntityID, OnAccept);

>     }

>

>     private void OnAccept(AcceptDeclineUserRequestResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully declined an application to be added to the clan");

>         }

>     }

> }



**CBSClan.GetClanMemberships**

Get a list of all clan members.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanID = "some clan id";

>

>         ClanModule.GetClanMemberships(clanID, OnGetMemberships);

>     }

>

>     private void OnGetMemberships(GetClanMembershipsResult result)

>     {

>         if (result.IsSuccess)

>         {

>             var members = result.Profiles;

>             foreach (var user in members)

>             {

>                 Debug.Log(user.ProfileId);

>             }

>         }

>     }

> }

****

**CBSClan.RemoveClanMember**

Remove a member from the clan.

> using CBS;

> using UnityEngine;

>

> public class ClanExamples : MonoBehaviour

> {

>     private IClan ClanModule;

>

>     private void Start()

>     {

>         ClanModule = CBSModule.Get<CBSClan>();

>

>         string clanID = "some clan id";

>         string userEntityID = "clan member entity id";

>

>         ClanModule.RemoveClanMember(userEntityID, clanID, OnRemoveMember);

>     }

>

>     private void OnRemoveMember(RemoveClanMemberResult result)

>     {

>         if (result.IsSuccess)

>         {

>             Debug.Log("You have successfully removed a member from the clan");

>         }

>     }

> }

